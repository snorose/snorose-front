<div [formGroup]="dynamicForm" [ngStyle]="control.styles?.layout">
  @if (control.label) {
  <div [ngStyle]="control.styles?.label">{{ control.label }}</div>
  }
  <div style="width: 100%;">
    @if (control.styles?.password) {
    <div style="display: flex; width: 100%;">
      <input matInput [type]="hide ? 'password' : 'text'" [placeholder]="control.placeholder || ''"
        [formControlName]="control.name" [ngStyle]="control.styles?.password">
      <button mat-icon-button (click)="hide = !hide">
        <mat-icon>{{ hide ? 'visibility_off' : 'visibility' }}</mat-icon>
      </button>
    </div>
    }
    @else {
    <mat-form-field appearance="outline" style="width: 100%;">
      <input matInput [type]="hide ? 'password' : 'text'" [placeholder]="control.placeholder || ''"
        [formControlName]="control.name">
      <button mat-icon-button matSuffix (click)="hide = !hide">
        <mat-icon>{{ hide ? 'visibility_off' : 'visibility' }}</mat-icon>
      </button>
    </mat-form-field>
    }
  </div>
  @if (dynamicForm.get(control.name)?.invalid && dynamicForm.get(control.name)?.touched) {
  <mat-error style="margin-top: -10px;">{{ getErrorMessage(control, null) }}</mat-error>
  }
</div>